<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corner Grocer - Interactive Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.css" rel="stylesheet">
    <style>
        :root {
            /* Blue & Teal Primary Colors */
            --primary-blue: #0288D1;
            --deep-blue: #01579B;
            --teal-primary: #00ACC1;
            --teal-dark: #00838F;
            --teal-light: #B2EBF2;
            --cyan-bright: #00E5FF;
            
            /* Supporting Colors */
            --purple-accent: #7B1FA2;
            --indigo-accent: #3F51B5;
            --emerald-green: #00C853;
            --amber-orange: #FF8F00;
            --coral-red: #FF5722;
            --lime-green: #8BC34A;
            
            /* UI Colors */
            --sidebar-bg: var(--primary-blue);
            --sidebar-secondary: var(--teal-primary);
            --sidebar-text: #ffffff;
            --card-bg: #ffffff;
            --text-muted: #37474F;
            --border-color: var(--teal-dark);
            --light-bg: #E0F2F1;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(45deg, var(--light-bg) 0%, #E3F2FD 50%, var(--teal-light) 100%);
            min-height: 100vh;
            line-height: 1.6;
        }

        .sidebar {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--teal-primary) 50%, var(--deep-blue) 100%);
            min-height: 100vh;
            padding: 0;
            box-shadow: 2px 0 15px rgba(1,87,155,0.3);
        }

        .sidebar-content {
            padding: 2rem 1.5rem;
        }

        .grocery-icon {
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        .data-summary-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .data-summary-card h5 {
            color: var(--sidebar-text);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .summary-item {
            color: var(--teal-light);
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
        }

        .summary-item strong {
            color: var(--sidebar-text);
        }

        .btn-option {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: var(--sidebar-text);
            transition: all 0.3s ease;
            text-align: left;
            padding: 0.8rem 1rem;
            border-radius: 8px;
        }

        .btn-option:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            transform: translateX(5px);
        }

        .btn-option.active {
            background: var(--cyan-bright);
            border-color: var(--cyan-bright);
            color: var(--deep-blue);
            transform: translateX(5px);
            font-weight: 600;
        }

        .btn-option i {
            margin-right: 0.5rem;
            width: 16px;
        }

        .main-content {
            padding: 2rem;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 0 0 0 20px;
        }

        .header {
            margin-bottom: 2rem;
        }

        .option-panel {
            margin-bottom: 2rem;
        }

        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .card-header {
            background: linear-gradient(45deg, var(--primary-blue), var(--teal-primary));
            color: white;
            border-bottom: none;
            padding: 1.2rem 1.5rem;
        }

        .card-header h4 {
            margin: 0;
            font-weight: 600;
        }

        .card-header i {
            margin-right: 0.7rem;
            width: 20px;
        }

        .test-output {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .test-output pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .form-control:focus {
            border-color: var(--teal-primary);
            box-shadow: 0 0 0 0.2rem rgba(0, 172, 193, 0.25);
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-blue), var(--teal-primary));
            border: none;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: linear-gradient(45deg, var(--deep-blue), var(--teal-dark));
            transform: translateY(-2px);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--emerald-green), var(--lime-green));
            border: none;
            transition: all 0.3s ease;
        }

        .btn-success:hover {
            background: linear-gradient(45deg, #00A644, #689F38);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 sidebar">
                <div class="sidebar-content">
                    <div class="text-center mb-4">
                        <div class="grocery-icon mb-3">
                            <div style="width: 120px; height: 120px; background: linear-gradient(45deg, var(--emerald-green), var(--lime-green)); border-radius: 20px; display: flex; align-items: center; justify-content: center; margin: 0 auto; box-shadow: 0 4px 15px rgba(93,64,55,0.3);">
                                <i data-feather="shopping-cart" style="width: 60px; height: 60px; color: white;"></i>
                            </div>
                        </div>
                        <h2 class="text-white">Corner Grocer</h2>
                        <p class="text-light">Interactive Demo</p>
                    </div>

                    <div class="data-summary-card">
                        <h5>Data Summary</h5>
                        <div id="dataSummary">
                            <div class="summary-item">
                                <strong>Total Items:</strong> <span id="totalItems">8</span>
                            </div>
                            <div class="summary-item">
                                <strong>Unique Items:</strong> <span id="uniqueItems">8</span>
                            </div>
                            <div class="summary-item">
                                <strong>Most Frequent:</strong><br>
                                <span id="topItems">Bread: 5<br>Eggs: 4<br>Apples: 3</span>
                            </div>
                        </div>
                    </div>

                    <div class="menu-options">
                        <h5 class="text-white mb-3">Menu Options</h5>
                        <button class="btn btn-option w-100 mb-2" onclick="showOption(1)">
                            <i data-feather="search"></i>
                            1. Look up item frequency
                        </button>
                        <button class="btn btn-option w-100 mb-2" onclick="showOption(2)">
                            <i data-feather="list"></i>
                            2. Print all frequencies
                        </button>
                        <button class="btn btn-option w-100 mb-2" onclick="showOption(3)">
                            <i data-feather="bar-chart-2"></i>
                            3. Print histogram
                        </button>
                        <button class="btn btn-option w-100 mb-2" onclick="showOption(4)">
                            <i data-feather="sort-asc"></i>
                            4. Sort alphabetically (A–Z)
                        </button>
                        <button class="btn btn-option w-100 mb-2" onclick="showOption(5)">
                            <i data-feather="trending-down"></i>
                            5. Sort by frequency (high → low)
                        </button>
                        <button class="btn btn-option w-100 mb-2" onclick="showOption(6)">
                            <i data-feather="eye"></i>
                            6. Search specific item
                        </button>
                        <button class="btn btn-option w-100 mb-2" onclick="showOption(7)">
                            <i data-feather="save"></i>
                            7. Save frequency list
                        </button>
                        <button class="btn btn-option w-100 mb-2" onclick="showOption(8)">
                            <i data-feather="download"></i>
                            8. Save histogram
                        </button>
                        <button class="btn btn-danger w-100 mb-2" onclick="showOption(9)">
                            <i data-feather="x-circle"></i>
                            9. Exit program
                        </button>
                        
                        <div class="mt-4">
                            <button class="btn btn-success w-100 active" onclick="showOption(0)">
                                <i data-feather="plus"></i>
                                Add New Items
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 main-content">
                <div class="header">
                    <div class="d-flex align-items-center mb-3">
                        <div style="width: 80px; height: 80px; background: linear-gradient(45deg, var(--emerald-green), var(--lime-green)); border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-right: 1rem; box-shadow: 0 3px 10px rgba(93,64,55,0.2);">
                            <i data-feather="shopping-cart" style="width: 40px; height: 40px; color: white;"></i>
                        </div>
                        <div>
                            <h1>Corner Grocer Interactive Demo</h1>
                            <p class="lead">Experience all 9 features of the grocery frequency tracking application</p>
                        </div>
                    </div>
                </div>

                <!-- Add New Items Section - Displayed by Default -->
                <div id="option0" class="option-panel" style="display: block;">
                    <div class="card" style="border: 3px solid var(--emerald-green); box-shadow: 0 6px 20px rgba(0,200,83,0.2);">
                        <div class="card-header" style="background: linear-gradient(45deg, var(--emerald-green), var(--lime-green)); color: white;">
                            <h4><i data-feather="plus"></i> Add New Items to Your List</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="itemInput" class="form-label">Enter items (one per line):</label>
                                        <textarea class="form-control" id="itemInput" rows="8" placeholder="Apples&#10;Bananas&#10;Bread&#10;Milk&#10;..."></textarea>
                                        <div class="form-text">Enter grocery items, one per line. Only letters and spaces are allowed.</div>
                                    </div>
                                    <button class="btn btn-success" onclick="addItems()">
                                        <i data-feather="plus"></i> Add Items
                                    </button>
                                </div>
                                <div class="col-md-6">
                                    <div class="test-output">
                                        <h6>Output:</h6>
                                        <pre id="output0">Ready to add new items! Enter grocery items in the text area and click "Add Items".</pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- All other option panels with display: none -->
                <!-- Option 1: Item Lookup -->
                <div id="option1" class="option-panel" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4><i data-feather="search"></i> Option 1: Look up item frequency</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="itemName" class="form-label">Enter item name:</label>
                                        <input type="text" class="form-control" id="itemName" placeholder="e.g., Apples">
                                        <div class="form-text">Only letters and spaces are allowed</div>
                                    </div>
                                    <button class="btn btn-primary" onclick="lookupItem()">
                                        <i data-feather="search"></i> Look up frequency
                                    </button>
                                </div>
                                <div class="col-md-6">
                                    <div class="test-output">
                                        <h6>Output:</h6>
                                        <pre id="output1">Enter an item name to look up its frequency.</pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Continue with other options... -->
                <!-- Option 2-9 would be similar but I'll add a few key ones -->

                <!-- Option 2: Print All -->
                <div id="option2" class="option-panel" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4><i data-feather="list"></i> Option 2: Print all frequencies</h4>
                        </div>
                        <div class="card-body">
                            <p>This option displays all grocery items and their frequencies.</p>
                            <button class="btn btn-primary" onclick="printAll()">
                                <i data-feather="list"></i> Show All Items
                            </button>
                            <div class="test-output mt-3">
                                <h6>Output:</h6>
                                <pre id="output2">Click the button above to display all items and frequencies.</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Option 3: Print Histogram -->
                <div id="option3" class="option-panel" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4><i data-feather="bar-chart-2"></i> Option 3: Print histogram</h4>
                        </div>
                        <div class="card-body">
                            <p>This option displays a visual histogram of item frequencies using asterisks.</p>
                            <button class="btn btn-primary" onclick="printHistogram()">
                                <i data-feather="bar-chart-2"></i> Show Histogram
                            </button>
                            <div class="test-output mt-3">
                                <h6>Output:</h6>
                                <pre id="output3">Click the button above to display the frequency histogram.</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Option 4: Sort Alphabetically -->
                <div id="option4" class="option-panel" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4><i data-feather="sort-asc"></i> Option 4: Sort alphabetically (A–Z)</h4>
                        </div>
                        <div class="card-body">
                            <p>This option displays all items sorted alphabetically from A to Z.</p>
                            <button class="btn btn-primary" onclick="sortAlphabetically()">
                                <i data-feather="sort-asc"></i> Sort A-Z
                            </button>
                            <div class="test-output mt-3">
                                <h6>Output:</h6>
                                <pre id="output4">Click the button above to sort items alphabetically.</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Option 5: Sort by Frequency -->
                <div id="option5" class="option-panel" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4><i data-feather="trending-down"></i> Option 5: Sort by frequency (high → low)</h4>
                        </div>
                        <div class="card-body">
                            <p>This option displays all items sorted by frequency from highest to lowest.</p>
                            <button class="btn btn-primary" onclick="sortByFrequency()">
                                <i data-feather="trending-down"></i> Sort by Frequency
                            </button>
                            <div class="test-output mt-3">
                                <h6>Output:</h6>
                                <pre id="output5">Click the button above to sort items by frequency.</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Option 6: Search Item -->
                <div id="option6" class="option-panel" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4><i data-feather="eye"></i> Option 6: Search specific item</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="searchQuery" class="form-label">Enter search term:</label>
                                        <input type="text" class="form-control" id="searchQuery" placeholder="e.g., Bread">
                                        <div class="form-text">Search for items containing this text</div>
                                    </div>
                                    <button class="btn btn-primary" onclick="searchItems()">
                                        <i data-feather="eye"></i> Search Items
                                    </button>
                                </div>
                                <div class="col-md-6">
                                    <div class="test-output">
                                        <h6>Output:</h6>
                                        <pre id="output6">Enter a search term to find matching items.</pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Option 7: Save Frequency List -->
                <div id="option7" class="option-panel" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4><i data-feather="save"></i> Option 7: Save frequency list to frequency_list.txt</h4>
                        </div>
                        <div class="card-body">
                            <p>This option saves all item frequencies to a file called <code>frequency_list.txt</code>.</p>
                            <button class="btn btn-primary" onclick="saveFrequencyList()">
                                <i data-feather="save"></i> Save Frequency List
                            </button>
                            <div class="test-output mt-3">
                                <h6>Output:</h6>
                                <pre id="output7">Click the button above to save the frequency list to a .txt file.</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Option 8: Save Histogram -->
                <div id="option8" class="option-panel" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4><i data-feather="download"></i> Option 8: Save histogram to frequency_histogram.txt</h4>
                        </div>
                        <div class="card-body">
                            <p>This option saves the frequency histogram to a file called <code>frequency_histogram.txt</code>.</p>
                            <button class="btn btn-primary" onclick="saveHistogram()">
                                <i data-feather="download"></i> Save Histogram
                            </button>
                            <div class="test-output mt-3">
                                <h6>Output:</h6>
                                <pre id="output8">Click the button above to save the histogram to a .txt file.</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Option 9: Exit -->
                <div id="option9" class="option-panel" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4><i data-feather="x-circle"></i> Option 9: Exit program</h4>
                        </div>
                        <div class="card-body">
                            <p>In the actual command-line application, this option would terminate the program.</p>
                            <p class="text-muted">In this web interface, you can simply navigate away or close the browser tab.</p>
                            <button class="btn btn-danger" onclick="simulateExit()">
                                <i data-feather="x-circle"></i> Simulate Exit
                            </button>
                            <div class="test-output mt-3">
                                <h6>Output:</h6>
                                <pre id="output9">Click the button to simulate program exit.</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js"></script>
    <script>
        // Grocery items data (client-side storage)
        let groceryItems = {
            'Apples': 3,
            'Bananas': 2,
            'Bread': 5,
            'Milk': 4,
            'Eggs': 4,
            'Cheese': 2,
            'Chicken': 3,
            'Rice': 1
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();
            updateSummary();
        });

        function updateSummary() {
            const totalItems = Object.values(groceryItems).reduce((sum, freq) => sum + freq, 0);
            const uniqueItems = Object.keys(groceryItems).length;
            const topItems = Object.entries(groceryItems)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 3)
                .map(([item, count]) => `${item}: ${count}`)
                .join('<br>');

            document.getElementById('totalItems').textContent = totalItems;
            document.getElementById('uniqueItems').textContent = uniqueItems;
            document.getElementById('topItems').innerHTML = topItems;
        }

        function showOption(optionNumber) {
            // Hide all option panels
            const panels = document.querySelectorAll('.option-panel');
            panels.forEach(panel => panel.style.display = 'none');
            
            // Show selected option panel
            document.getElementById(`option${optionNumber}`).style.display = 'block';
            
            // Update active button
            const buttons = document.querySelectorAll('.btn-option, .btn-danger, .btn-success');
            buttons.forEach(btn => btn.classList.remove('active'));
            if (event && event.target) {
                event.target.classList.add('active');
            }
        }

        function addItems() {
            const inputText = document.getElementById('itemInput').value.trim();
            if (!inputText) {
                document.getElementById('output0').textContent = 'Please enter some items to add.';
                return;
            }

            const items = inputText.split('\n').filter(item => item.trim());
            let output = 'Added items:\n\n';
            let addedCount = 0;

            items.forEach(item => {
                const cleanItem = item.trim();
                if (cleanItem && /^[a-zA-Z\s]+$/.test(cleanItem)) {
                    if (groceryItems[cleanItem]) {
                        groceryItems[cleanItem]++;
                        output += `${cleanItem}: frequency updated to ${groceryItems[cleanItem]}\n`;
                    } else {
                        groceryItems[cleanItem] = 1;
                        output += `${cleanItem}: added with frequency 1\n`;
                    }
                    addedCount++;
                } else if (cleanItem) {
                    output += `${cleanItem}: skipped (invalid characters)\n`;
                }
            });

            output += `\nTotal items processed: ${addedCount}`;
            document.getElementById('output0').textContent = output;
            document.getElementById('itemInput').value = '';
            updateSummary();
            feather.replace();
        }

        function lookupItem() {
            const itemName = document.getElementById('itemName').value.trim();
            if (!itemName) {
                document.getElementById('output1').textContent = 'Please enter an item name.';
                return;
            }

            if (!/^[a-zA-Z\s]+$/.test(itemName)) {
                document.getElementById('output1').textContent = 'Invalid input. Only letters and spaces are allowed.';
                return;
            }

            if (groceryItems[itemName]) {
                document.getElementById('output1').textContent = `"${itemName}" appears ${groceryItems[itemName]} time(s) in your list.`;
            } else {
                document.getElementById('output1').textContent = `"${itemName}" was not found in your list.`;
            }
        }

        function printAll() {
            if (Object.keys(groceryItems).length === 0) {
                document.getElementById('output2').textContent = 'No items in your list yet.';
                return;
            }

            let output = 'All grocery items and frequencies:\n\n';
            Object.entries(groceryItems)
                .sort((a, b) => a[0].localeCompare(b[0]))
                .forEach(([item, freq]) => {
                    output += `${item}: ${freq}\n`;
                });
            
            document.getElementById('output2').textContent = output;
        }

        function printHistogram() {
            if (Object.keys(groceryItems).length === 0) {
                document.getElementById('output3').textContent = 'No items in your list yet.';
                return;
            }

            let output = 'Frequency Histogram:\n\n';
            Object.entries(groceryItems)
                .sort((a, b) => b[1] - a[1])
                .forEach(([item, freq]) => {
                    output += `${item}: ${'*'.repeat(freq)}\n`;
                });
            
            document.getElementById('output3').textContent = output;
        }

        function sortAlphabetically() {
            if (Object.keys(groceryItems).length === 0) {
                document.getElementById('output4').textContent = 'No items in your list yet.';
                return;
            }

            let output = 'Items sorted alphabetically (A-Z):\n\n';
            Object.entries(groceryItems)
                .sort((a, b) => a[0].localeCompare(b[0]))
                .forEach(([item, freq]) => {
                    output += `${item}: ${freq}\n`;
                });
            
            document.getElementById('output4').textContent = output;
        }

        function sortByFrequency() {
            if (Object.keys(groceryItems).length === 0) {
                document.getElementById('output5').textContent = 'No items in your list yet.';
                return;
            }

            let output = 'Items sorted by frequency (high to low):\n\n';
            Object.entries(groceryItems)
                .sort((a, b) => b[1] - a[1])
                .forEach(([item, freq]) => {
                    output += `${item}: ${freq}\n`;
                });
            
            document.getElementById('output5').textContent = output;
        }

        function searchItems() {
            const query = document.getElementById('searchQuery').value.trim();
            if (!query) {
                document.getElementById('output6').textContent = 'Please enter a search term.';
                return;
            }

            if (!/^[a-zA-Z\s]+$/.test(query)) {
                document.getElementById('output6').textContent = 'Invalid search term. Only letters and spaces are allowed.';
                return;
            }

            const matches = Object.entries(groceryItems)
                .filter(([item]) => item.toLowerCase().includes(query.toLowerCase()));

            if (matches.length === 0) {
                document.getElementById('output6').textContent = `No items found containing "${query}".`;
                return;
            }

            let output = `Items containing "${query}":\n\n`;
            matches.forEach(([item, freq]) => {
                output += `${item}: ${freq}\n`;
            });
            
            document.getElementById('output6').textContent = output;
        }

        function saveFrequencyList() {
            if (Object.keys(groceryItems).length === 0) {
                document.getElementById('output7').textContent = 'No items to save. Add some items first.';
                return;
            }

            let content = '';
            Object.entries(groceryItems)
                .sort((a, b) => a[0].localeCompare(b[0]))
                .forEach(([item, freq]) => {
                    content += `${item} ${freq}\n`;
                });

            // Create downloadable file
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'frequency_list.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            document.getElementById('output7').textContent = 'Successfully saved frequency list to frequency_list.txt\nFile has been downloaded to your computer.';
        }

        function saveHistogram() {
            if (Object.keys(groceryItems).length === 0) {
                document.getElementById('output8').textContent = 'No items to save. Add some items first.';
                return;
            }

            let content = '';
            Object.entries(groceryItems)
                .sort((a, b) => b[1] - a[1])
                .forEach(([item, freq]) => {
                    content += `${item}: ${'*'.repeat(freq)}\n`;
                });

            // Create downloadable file
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'frequency_histogram.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            document.getElementById('output8').textContent = 'Successfully saved histogram to frequency_histogram.txt\nFile has been downloaded to your computer.';
        }

        function simulateExit() {
            document.getElementById('output9').textContent = "Goodbye!\nProgram would terminate here in command-line version.";
        }
    </script>
</body>
</html>
